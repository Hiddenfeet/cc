import{DeFiConnectProvider as t}from"@deficonnect/provider";import{AbstractConnector as e}from"@web3-react/abstract-connector";import n from"tiny-warning";var r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function o(t){var e={exports:{}};return t(e,e.exports),e.exports}var i,c,a=function(t){return t&&t.Math==Math&&t},u=a("object"==typeof globalThis&&globalThis)||a("object"==typeof window&&window)||a("object"==typeof self&&self)||a("object"==typeof r&&r)||function(){return this}()||Function("return this")(),s=function(t){try{return!!t()}catch(t){return!0}},f=!s(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}),h=!s(function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")}),l=Function.prototype.call,p=h?l.bind(l):function(){return l.apply(l,arguments)},d={}.propertyIsEnumerable,v=Object.getOwnPropertyDescriptor,y={f:v&&!d.call({1:2},1)?function(t){var e=v(this,t);return!!e&&e.enumerable}:d},b=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},g=Function.prototype,m=g.call,w=h&&g.bind.bind(m,m),j=h?function(t){return t&&w(t)}:function(t){return t&&function(){return m.apply(t,arguments)}},O=j({}.toString),S=j("".slice),C=function(t){return S(O(t),8,-1)},E=Object,T=j("".split),P=s(function(){return!E("z").propertyIsEnumerable(0)})?function(t){return"String"==C(t)?T(t,""):E(t)}:E,_=TypeError,I=function(t){if(null==t)throw _("Can't call method on "+t);return t},R=function(t){return P(I(t))},x=function(t){return"function"==typeof t},N=function(t){return"object"==typeof t?null!==t:x(t)},k=function(t){return x(t)?t:void 0},A=function(t,e){return arguments.length<2?k(u[t]):u[t]&&u[t][e]},M=j({}.isPrototypeOf),D=A("navigator","userAgent")||"",F=u.process,U=u.Deno,L=F&&F.versions||U&&U.version,z=L&&L.v8;z&&(c=(i=z.split("."))[0]>0&&i[0]<4?1:+(i[0]+i[1])),!c&&D&&(!(i=D.match(/Edge\/(\d+)/))||i[1]>=74)&&(i=D.match(/Chrome\/(\d+)/))&&(c=+i[1]);var q=c,G=!!Object.getOwnPropertySymbols&&!s(function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&q&&q<41}),B=G&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,W=Object,V=B?function(t){return"symbol"==typeof t}:function(t){var e=A("Symbol");return x(e)&&M(e.prototype,W(t))},J=String,K=function(t){try{return J(t)}catch(t){return"Object"}},H=TypeError,X=function(t){if(x(t))return t;throw H(K(t)+" is not a function")},Y=function(t,e){var n=t[e];return null==n?void 0:X(n)},$=TypeError,Q=Object.defineProperty,Z=function(t,e){try{Q(u,t,{value:e,configurable:!0,writable:!0})}catch(n){u[t]=e}return e},tt=u["__core-js_shared__"]||Z("__core-js_shared__",{}),et=o(function(t){(t.exports=function(t,e){return tt[t]||(tt[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.24.1",mode:"global",copyright:"Â© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.24.1/LICENSE",source:"https://github.com/zloirock/core-js"})}),nt=Object,rt=function(t){return nt(I(t))},ot=j({}.hasOwnProperty),it=Object.hasOwn||function(t,e){return ot(rt(t),e)},ct=0,at=Math.random(),ut=j(1..toString),st=function(t){return"Symbol("+(void 0===t?"":t)+")_"+ut(++ct+at,36)},ft=et("wks"),ht=u.Symbol,lt=ht&&ht.for,pt=B?ht:ht&&ht.withoutSetter||st,dt=function(t){if(!it(ft,t)||!G&&"string"!=typeof ft[t]){var e="Symbol."+t;ft[t]=G&&it(ht,t)?ht[t]:B&&lt?lt(e):pt(e)}return ft[t]},vt=TypeError,yt=dt("toPrimitive"),bt=function(t){var e=function(t,e){if(!N(t)||V(t))return t;var n,r=Y(t,yt);if(r){if(void 0===e&&(e="default"),n=p(r,t,e),!N(n)||V(n))return n;throw vt("Can't convert object to primitive value")}return void 0===e&&(e="number"),function(t,e){var n,r;if("string"===e&&x(n=t.toString)&&!N(r=p(n,t)))return r;if(x(n=t.valueOf)&&!N(r=p(n,t)))return r;if("string"!==e&&x(n=t.toString)&&!N(r=p(n,t)))return r;throw $("Can't convert object to primitive value")}(t,e)}(t,"string");return V(e)?e:e+""},gt=u.document,mt=N(gt)&&N(gt.createElement),wt=function(t){return mt?gt.createElement(t):{}},jt=!f&&!s(function(){return 7!=Object.defineProperty(wt("div"),"a",{get:function(){return 7}}).a}),Ot=Object.getOwnPropertyDescriptor,St={f:f?Ot:function(t,e){if(t=R(t),e=bt(e),jt)try{return Ot(t,e)}catch(t){}if(it(t,e))return b(!p(y.f,t,e),t[e])}},Ct=f&&s(function(){return 42!=Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype}),Et=String,Tt=TypeError,Pt=function(t){if(N(t))return t;throw Tt(Et(t)+" is not an object")},_t=TypeError,It=Object.defineProperty,Rt=Object.getOwnPropertyDescriptor,xt={f:f?Ct?function(t,e,n){if(Pt(t),e=bt(e),Pt(n),"function"==typeof t&&"prototype"===e&&"value"in n&&"writable"in n&&!n.writable){var r=Rt(t,e);r&&r.writable&&(t[e]=n.value,n={configurable:"configurable"in n?n.configurable:r.configurable,enumerable:"enumerable"in n?n.enumerable:r.enumerable,writable:!1})}return It(t,e,n)}:It:function(t,e,n){if(Pt(t),e=bt(e),Pt(n),jt)try{return It(t,e,n)}catch(t){}if("get"in n||"set"in n)throw _t("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},Nt=f?function(t,e,n){return xt.f(t,e,b(1,n))}:function(t,e,n){return t[e]=n,t},kt=Function.prototype,At=f&&Object.getOwnPropertyDescriptor,Mt=it(kt,"name"),Dt={EXISTS:Mt,PROPER:Mt&&"something"===function(){}.name,CONFIGURABLE:Mt&&(!f||f&&At(kt,"name").configurable)},Ft=j(Function.toString);x(tt.inspectSource)||(tt.inspectSource=function(t){return Ft(t)});var Ut,Lt,zt,qt=tt.inspectSource,Gt=u.WeakMap,Bt=x(Gt)&&/native code/.test(qt(Gt)),Wt=et("keys"),Vt={},Jt=u.TypeError;if(Bt||tt.state){var Kt=tt.state||(tt.state=new(0,u.WeakMap)),Ht=j(Kt.get),Xt=j(Kt.has),Yt=j(Kt.set);Ut=function(t,e){if(Xt(Kt,t))throw new Jt("Object already initialized");return e.facade=t,Yt(Kt,t,e),e},Lt=function(t){return Ht(Kt,t)||{}},zt=function(t){return Xt(Kt,t)}}else{var $t=Wt.state||(Wt.state=st("state"));Vt[$t]=!0,Ut=function(t,e){if(it(t,$t))throw new Jt("Object already initialized");return e.facade=t,Nt(t,$t,e),e},Lt=function(t){return it(t,$t)?t[$t]:{}},zt=function(t){return it(t,$t)}}var Qt={set:Ut,get:Lt,has:zt,enforce:function(t){return zt(t)?Lt(t):Ut(t,{})},getterFor:function(t){return function(e){var n;if(!N(e)||(n=Lt(e)).type!==t)throw Jt("Incompatible receiver, "+t+" required");return n}}},Zt=o(function(t){var e=Dt.CONFIGURABLE,n=Qt.enforce,r=Qt.get,o=Object.defineProperty,i=f&&!s(function(){return 8!==o(function(){},"length",{value:8}).length}),c=String(String).split("String"),a=t.exports=function(t,r,a){"Symbol("===String(r).slice(0,7)&&(r="["+String(r).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),a&&a.getter&&(r="get "+r),a&&a.setter&&(r="set "+r),(!it(t,"name")||e&&t.name!==r)&&(f?o(t,"name",{value:r,configurable:!0}):t.name=r),i&&a&&it(a,"arity")&&t.length!==a.arity&&o(t,"length",{value:a.arity});try{a&&it(a,"constructor")&&a.constructor?f&&o(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch(t){}var u=n(t);return it(u,"source")||(u.source=c.join("string"==typeof r?r:"")),t};Function.prototype.toString=a(function(){return x(this)&&r(this).source||qt(this)},"toString")}),te=function(t,e,n,r){r||(r={});var o=r.enumerable,i=void 0!==r.name?r.name:e;if(x(n)&&Zt(n,i,r),r.global)o?t[e]=n:Z(e,n);else{try{r.unsafe?t[e]&&(o=!0):delete t[e]}catch(t){}o?t[e]=n:xt.f(t,e,{value:n,enumerable:!1,configurable:!r.nonConfigurable,writable:!r.nonWritable})}return t},ee=Math.ceil,ne=Math.floor,re=Math.trunc||function(t){var e=+t;return(e>0?ne:ee)(e)},oe=function(t){var e=+t;return e!=e||0===e?0:re(e)},ie=Math.max,ce=Math.min,ae=Math.min,ue=function(t){return(e=t.length)>0?ae(oe(e),9007199254740991):0;var e},se=function(t){return function(e,n,r){var o,i=R(e),c=ue(i),a=function(t,e){var n=oe(t);return n<0?ie(n+e,0):ce(n,e)}(r,c);if(t&&n!=n){for(;c>a;)if((o=i[a++])!=o)return!0}else for(;c>a;a++)if((t||a in i)&&i[a]===n)return t||a||0;return!t&&-1}},fe=(se(!0),se(!1)),he=j([].push),le=function(t,e){var n,r=R(t),o=0,i=[];for(n in r)!it(Vt,n)&&it(r,n)&&he(i,n);for(;e.length>o;)it(r,n=e[o++])&&(~fe(i,n)||he(i,n));return i},pe=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],de=pe.concat("length","prototype"),ve={f:Object.getOwnPropertyNames||function(t){return le(t,de)}},ye={f:Object.getOwnPropertySymbols},be=j([].concat),ge=A("Reflect","ownKeys")||function(t){var e=ve.f(Pt(t)),n=ye.f;return n?be(e,n(t)):e},me=function(t,e,n){for(var r=ge(e),o=xt.f,i=St.f,c=0;c<r.length;c++){var a=r[c];it(t,a)||n&&it(n,a)||o(t,a,i(e,a))}},we=/#|\.prototype\./,je=function(t,e){var n=Se[Oe(t)];return n==Ee||n!=Ce&&(x(e)?s(e):!!e)},Oe=je.normalize=function(t){return String(t).replace(we,".").toLowerCase()},Se=je.data={},Ce=je.NATIVE="N",Ee=je.POLYFILL="P",Te=je,Pe=St.f,_e=function(t,e){var n,r,o,i,c,a=t.target,s=t.global,f=t.stat;if(n=s?u:f?u[a]||Z(a,{}):(u[a]||{}).prototype)for(r in e){if(i=e[r],o=t.dontCallGetSet?(c=Pe(n,r))&&c.value:n[r],!Te(s?r:a+(f?".":"#")+r,t.forced)&&void 0!==o){if(typeof i==typeof o)continue;me(i,o)}(t.sham||o&&o.sham)&&Nt(i,"sham",!0),te(n,r,i,t)}},Ie="process"==C(u.process),Re=String,xe=TypeError,Ne=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=j(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(n,[]),e=n instanceof Array}catch(t){}return function(n,r){return Pt(n),function(t){if("object"==typeof t||x(t))return t;throw xe("Can't set "+Re(t)+" as a prototype")}(r),e?t(n,r):n.__proto__=r,n}}():void 0),ke=xt.f,Ae=dt("toStringTag"),Me=dt("species"),De=TypeError,Fe={};Fe[dt("toStringTag")]="z";var Ue="[object z]"===String(Fe),Le=dt("toStringTag"),ze=Object,qe="Arguments"==C(function(){return arguments}()),Ge=Ue?C:function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=ze(t),Le))?n:qe?C(e):"Object"==(r=C(e))&&x(e.callee)?"Arguments":r},Be=function(){},We=[],Ve=A("Reflect","construct"),Je=/^\s*(?:class|function)\b/,Ke=j(Je.exec),He=!Je.exec(Be),Xe=function(t){if(!x(t))return!1;try{return Ve(Be,We,t),!0}catch(t){return!1}},Ye=function(t){if(!x(t))return!1;switch(Ge(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return He||!!Ke(Je,qt(t))}catch(t){return!0}};Ye.sham=!0;var $e,Qe,Ze,tn,en=!Ve||s(function(){var t;return Xe(Xe.call)||!Xe(Object)||!Xe(function(){t=!0})||t})?Ye:Xe,nn=TypeError,rn=dt("species"),on=Function.prototype,cn=on.apply,an=on.call,un="object"==typeof Reflect&&Reflect.apply||(h?an.bind(cn):function(){return an.apply(cn,arguments)}),sn=j(j.bind),fn=function(t,e){return X(t),void 0===e?t:h?sn(t,e):function(){return t.apply(e,arguments)}},hn=A("document","documentElement"),ln=j([].slice),pn=TypeError,dn=function(t,e){if(t<e)throw pn("Not enough arguments");return t},vn=/(?:ipad|iphone|ipod).*applewebkit/i.test(D),yn=u.setImmediate,bn=u.clearImmediate,gn=u.process,mn=u.Dispatch,wn=u.Function,jn=u.MessageChannel,On=u.String,Sn=0,Cn={};try{$e=u.location}catch(t){}var En=function(t){if(it(Cn,t)){var e=Cn[t];delete Cn[t],e()}},Tn=function(t){return function(){En(t)}},Pn=function(t){En(t.data)},_n=function(t){u.postMessage(On(t),$e.protocol+"//"+$e.host)};yn&&bn||(yn=function(t){dn(arguments.length,1);var e=x(t)?t:wn(t),n=ln(arguments,1);return Cn[++Sn]=function(){un(e,void 0,n)},Qe(Sn),Sn},bn=function(t){delete Cn[t]},Ie?Qe=function(t){gn.nextTick(Tn(t))}:mn&&mn.now?Qe=function(t){mn.now(Tn(t))}:jn&&!vn?(tn=(Ze=new jn).port2,Ze.port1.onmessage=Pn,Qe=fn(tn.postMessage,tn)):u.addEventListener&&x(u.postMessage)&&!u.importScripts&&$e&&"file:"!==$e.protocol&&!s(_n)?(Qe=_n,u.addEventListener("message",Pn,!1)):Qe="onreadystatechange"in wt("script")?function(t){hn.appendChild(wt("script")).onreadystatechange=function(){hn.removeChild(this),En(t)}}:function(t){setTimeout(Tn(t),0)});var In,Rn,xn,Nn,kn,An,Mn,Dn,Fn={set:yn,clear:bn},Un=/ipad|iphone|ipod/i.test(D)&&void 0!==u.Pebble,Ln=/web0s(?!.*chrome)/i.test(D),zn=Fn.set,qn=u.MutationObserver||u.WebKitMutationObserver,Gn=u.document,Bn=u.process,Wn=u.Promise,Vn=(0,St.f)(u,"queueMicrotask"),Jn=Vn&&Vn.value;Jn||(In=function(){var t,e;for(Ie&&(t=Bn.domain)&&t.exit();Rn;){e=Rn.fn,Rn=Rn.next;try{e()}catch(t){throw Rn?Nn():xn=void 0,t}}xn=void 0,t&&t.enter()},vn||Ie||Ln||!qn||!Gn?!Un&&Wn&&Wn.resolve?((Mn=Wn.resolve(void 0)).constructor=Wn,Dn=fn(Mn.then,Mn),Nn=function(){Dn(In)}):Ie?Nn=function(){Bn.nextTick(In)}:(zn=fn(zn,u),Nn=function(){zn(In)}):(kn=!0,An=Gn.createTextNode(""),new qn(In).observe(An,{characterData:!0}),Nn=function(){An.data=kn=!kn}));var Kn=Jn||function(t){var e={fn:t,next:void 0};xn&&(xn.next=e),Rn||(Rn=e,Nn()),xn=e},Hn=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}},Xn=function(){this.head=null,this.tail=null};Xn.prototype={add:function(t){var e={item:t,next:null};this.head?this.tail.next=e:this.head=e,this.tail=e},get:function(){var t=this.head;if(t)return this.head=t.next,this.tail===t&&(this.tail=null),t.item}};var Yn,$n,Qn,Zn,tr,er=Xn,nr=u.Promise,rr="object"==typeof Deno&&Deno&&"object"==typeof Deno.version,or=!rr&&!Ie&&"object"==typeof window&&"object"==typeof document,ir=dt("species"),cr=!1,ar=x(u.PromiseRejectionEvent),ur=Te("Promise",function(){var t=qt(nr),e=t!==String(nr);if(!e&&66===q)return!0;if(!q||q<51||!/native code/.test(t)){var n=new nr(function(t){t(1)}),r=function(t){t(function(){},function(){})};if((n.constructor={})[ir]=r,!(cr=n.then(function(){})instanceof r))return!0}return!e&&(or||rr)&&!ar}),sr={CONSTRUCTOR:ur,REJECTION_EVENT:ar,SUBCLASSING:cr},fr=function(t){var e,n;this.promise=new t(function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=r}),this.resolve=X(e),this.reject=X(n)},hr={f:function(t){return new fr(t)}},lr=Fn.set,pr=sr.CONSTRUCTOR,dr=sr.REJECTION_EVENT,vr=sr.SUBCLASSING,yr=Qt.getterFor("Promise"),br=Qt.set,gr=nr&&nr.prototype,mr=nr,wr=gr,jr=u.TypeError,Or=u.document,Sr=u.process,Cr=hr.f,Er=Cr,Tr=!!(Or&&Or.createEvent&&u.dispatchEvent),Pr=function(t){var e;return!(!N(t)||!x(e=t.then))&&e},_r=function(t,e){var n,r,o,i=e.value,c=1==e.state,a=c?t.ok:t.fail,u=t.resolve,s=t.reject,f=t.domain;try{a?(c||(2===e.rejection&&kr(e),e.rejection=1),!0===a?n=i:(f&&f.enter(),n=a(i),f&&(f.exit(),o=!0)),n===t.promise?s(jr("Promise-chain cycle")):(r=Pr(n))?p(r,n,u,s):u(n)):s(i)}catch(t){f&&!o&&f.exit(),s(t)}},Ir=function(t,e){t.notified||(t.notified=!0,Kn(function(){for(var n,r=t.reactions;n=r.get();)_r(n,t);t.notified=!1,e&&!t.rejection&&xr(t)}))},Rr=function(t,e,n){var r,o;Tr?((r=Or.createEvent("Event")).promise=e,r.reason=n,r.initEvent(t,!1,!0),u.dispatchEvent(r)):r={promise:e,reason:n},!dr&&(o=u["on"+t])?o(r):"unhandledrejection"===t&&function(t,e){var n=u.console;n&&n.error&&(1==arguments.length?n.error(t):n.error(t,e))}("Unhandled promise rejection",n)},xr=function(t){p(lr,u,function(){var e,n=t.facade,r=t.value;if(Nr(t)&&(e=Hn(function(){Ie?Sr.emit("unhandledRejection",r,n):Rr("unhandledrejection",n,r)}),t.rejection=Ie||Nr(t)?2:1,e.error))throw e.value})},Nr=function(t){return 1!==t.rejection&&!t.parent},kr=function(t){p(lr,u,function(){var e=t.facade;Ie?Sr.emit("rejectionHandled",e):Rr("rejectionhandled",e,t.value)})},Ar=function(t,e,n){return function(r){t(e,r,n)}},Mr=function(t,e,n){t.done||(t.done=!0,n&&(t=n),t.value=e,t.state=2,Ir(t,!0))},Dr=function t(e,n,r){if(!e.done){e.done=!0,r&&(e=r);try{if(e.facade===n)throw jr("Promise can't be resolved itself");var o=Pr(n);o?Kn(function(){var r={done:!1};try{p(o,n,Ar(t,r,e),Ar(Mr,r,e))}catch(t){Mr(r,t,e)}}):(e.value=n,e.state=1,Ir(e,!1))}catch(t){Mr({done:!1},t,e)}}};if(pr&&(mr=function(t){!function(t,e){if(M(wr,t))return t;throw De("Incorrect invocation")}(this),X(t),p(Yn,this);var e=yr(this);try{t(Ar(Dr,e),Ar(Mr,e))}catch(t){Mr(e,t)}},(Yn=function(t){br(this,{type:"Promise",done:!1,notified:!1,parent:!1,reactions:new er,rejection:!1,state:0,value:void 0})}).prototype=te(wr=mr.prototype,"then",function(t,e){var n,r,o,i=yr(this),c=Cr((n=mr,void 0===(o=Pt(this).constructor)||null==(r=Pt(o)[rn])?n:function(t){if(en(t))return t;throw nn(K(t)+" is not a constructor")}(r)));return i.parent=!0,c.ok=!x(t)||t,c.fail=x(e)&&e,c.domain=Ie?Sr.domain:void 0,0==i.state?i.reactions.add(c):Kn(function(){_r(c,i)}),c.promise}),$n=function(){var t=new Yn,e=yr(t);this.promise=t,this.resolve=Ar(Dr,e),this.reject=Ar(Mr,e)},hr.f=Cr=function(t){return t===mr||void 0===t?new $n(t):Er(t)},x(nr)&&gr!==Object.prototype)){Qn=gr.then,vr||te(gr,"then",function(t,e){var n=this;return new mr(function(t,e){p(Qn,n,t,e)}).then(t,e)},{unsafe:!0});try{delete gr.constructor}catch(t){}Ne&&Ne(gr,wr)}_e({global:!0,constructor:!0,wrap:!0,forced:pr},{Promise:mr}),(Zn=mr)&&(Zn=Zn.prototype),Zn&&!it(Zn,Ae)&&ke(Zn,Ae,{configurable:!0,value:"Promise"}),tr=A("Promise"),f&&tr&&!tr[Me]&&(0,xt.f)(tr,Me,{configurable:!0,get:function(){return this}});var Fr={},Ur=dt("iterator"),Lr=Array.prototype,zr=dt("iterator"),qr=function(t){if(null!=t)return Y(t,zr)||Y(t,"@@iterator")||Fr[Ge(t)]},Gr=TypeError,Br=function(t,e,n){var r,o;Pt(t);try{if(!(r=Y(t,"return"))){if("throw"===e)throw n;return n}r=p(r,t)}catch(t){o=!0,r=t}if("throw"===e)throw n;if(o)throw r;return Pt(r),n},Wr=TypeError,Vr=function(t,e){this.stopped=t,this.result=e},Jr=Vr.prototype,Kr=function(t,e,n){var r,o,i,c,a,u,s,f,h=!(!n||!n.AS_ENTRIES),l=!(!n||!n.IS_RECORD),d=!(!n||!n.IS_ITERATOR),v=!(!n||!n.INTERRUPTED),y=fn(e,n&&n.that),b=function(t){return r&&Br(r,"normal",t),new Vr(!0,t)},g=function(t){return h?(Pt(t),v?y(t[0],t[1],b):y(t[0],t[1])):v?y(t,b):y(t)};if(l)r=t.iterator;else if(d)r=t;else{if(!(o=qr(t)))throw Wr(K(t)+" is not iterable");if(void 0!==(f=o)&&(Fr.Array===f||Lr[Ur]===f)){for(i=0,c=ue(t);c>i;i++)if((a=g(t[i]))&&M(Jr,a))return a;return new Vr(!1)}r=function(t,e){var n=arguments.length<2?qr(t):e;if(X(n))return Pt(p(n,t));throw Gr(K(t)+" is not iterable")}(t,o)}for(u=l?t.next:r.next;!(s=p(u,r)).done;){try{a=g(s.value)}catch(t){Br(r,"throw",t)}if("object"==typeof a&&a&&M(Jr,a))return a}return new Vr(!1)},Hr=dt("iterator"),Xr=!1;try{var Yr=0,$r={next:function(){return{done:!!Yr++}},return:function(){Xr=!0}};$r[Hr]=function(){return this},Array.from($r,function(){throw 2})}catch(t){}var Qr=sr.CONSTRUCTOR||!function(t,e){if(!Xr)return!1;var n=!1;try{var r={};r[Hr]=function(){return{next:function(){return{done:n=!0}}}},nr.all(r).then(void 0,function(){})}catch(t){}return n}();_e({target:"Promise",stat:!0,forced:Qr},{all:function(t){var e=this,n=hr.f(e),r=n.resolve,o=n.reject,i=Hn(function(){var n=X(e.resolve),i=[],c=0,a=1;Kr(t,function(t){var u=c++,s=!1;a++,p(n,e,t).then(function(t){s||(s=!0,i[u]=t,--a||r(i))},o)}),--a||r(i)});return i.error&&o(i.value),n.promise}});var Zr=nr&&nr.prototype;if(_e({target:"Promise",proto:!0,forced:sr.CONSTRUCTOR,real:!0},{catch:function(t){return this.then(void 0,t)}}),x(nr)){var to=A("Promise").prototype.catch;Zr.catch!==to&&te(Zr,"catch",to,{unsafe:!0})}_e({target:"Promise",stat:!0,forced:Qr},{race:function(t){var e=this,n=hr.f(e),r=n.reject,o=Hn(function(){var o=X(e.resolve);Kr(t,function(t){p(o,e,t).then(n.resolve,r)})});return o.error&&r(o.value),n.promise}}),_e({target:"Promise",stat:!0,forced:sr.CONSTRUCTOR},{reject:function(t){var e=hr.f(this);return p(e.reject,void 0,t),e.promise}}),_e({target:"Promise",stat:!0,forced:sr.CONSTRUCTOR},{resolve:function(t){return function(t,e){if(Pt(t),N(e)&&e.constructor===t)return e;var n=hr.f(t);return(0,n.resolve)(e),n.promise}(this,t)}});var eo=Object.keys||function(t){return le(t,pe)},no=Object.assign,ro=Object.defineProperty,oo=j([].concat),io=!no||s(function(){if(f&&1!==no({b:1},no(ro({},"a",{enumerable:!0,get:function(){ro(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach(function(t){e[t]=t}),7!=no({},t)[n]||eo(no({},e)).join("")!=r})?function(t,e){for(var n=rt(t),r=arguments.length,o=1,i=ye.f,c=y.f;r>o;)for(var a,u=P(arguments[o++]),s=i?oo(eo(u),i(u)):eo(u),h=s.length,l=0;h>l;)a=s[l++],f&&!p(c,u,a)||(n[a]=u[a]);return n}:no;_e({target:"Object",stat:!0,arity:2,forced:Object.assign!==io},{assign:io});const co=["supportedChainIds"];function ao(t){return t.hasOwnProperty("result")?t.result:t}class uo extends Error{constructor(){super(),this.name=this.constructor.name,this.message="No Ethereum provider was found on this.provider."}}class so extends Error{constructor(){super(),this.name=this.constructor.name,this.message="The user rejected the request."}}class fo extends e{constructor(e){const{supportedChainIds:n}=e,r=function(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)e.indexOf(n=i[r])>=0||(o[n]=t[n]);return o}(e,co);super({supportedChainIds:n}),this.provider=void 0,this.provider=new t(r),this.handleNetworkChanged=this.handleNetworkChanged.bind(this),this.handleChainChanged=this.handleChainChanged.bind(this),this.handleAccountsChanged=this.handleAccountsChanged.bind(this),this.handleClose=this.handleClose.bind(this),this.provider.on("chainChanged",this.handleChainChanged),this.provider.on("accountsChanged",this.handleAccountsChanged),this.provider.on("disconnect",this.handleClose),this.provider.on("networkChanged",this.handleNetworkChanged)}handleChainChanged(t){this.emitUpdate({chainId:t,provider:this.provider})}handleAccountsChanged(t){0===t.length?this.emitDeactivate():this.emitUpdate({account:t[0]})}handleClose(){this.emitDeactivate()}handleNetworkChanged(t){this.emitUpdate({chainId:t,provider:this.provider})}async activate(){const t=await this.provider.connect().then(t=>t&&ao(t)[0]);return Object.assign({provider:this.provider},t?{account:t}:{})}async getProvider(){return this.provider}async getChainId(){if(!this.provider)throw new uo;let t;try{t=await this.provider.request({method:"eth_chainId"}).then(ao)}catch(t){n(!1,"eth_chainId was unsuccessful, falling back to net_version")}if(!t)try{t=await this.provider.request({method:"net_version"}).then(ao)}catch(t){n(!1,"net_version was unsuccessful, falling back to net version v2")}return t||(t=this.provider.chainId),t}async getAccount(){if(!this.provider)throw new uo;let t;try{t=await this.provider.request({method:"eth_accounts"}).then(t=>ao(t)[0])}catch(t){n(!1,"eth_accounts was unsuccessful, falling back to enable")}return t}close(){this.deactivate()}deactivate(){this.provider.close()}}export{fo as DeFiWeb3Connector,uo as NoEthereumProviderError,so as UserRejectedRequestError};
//# sourceMappingURL=index.modern.js.map
